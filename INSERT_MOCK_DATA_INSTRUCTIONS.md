# 📊 הכנסת נתוני דמה למשתמשת inbald@sapir.ac.il

## סיכום הנתונים שיוכנסו:

### ✅ מה יווצר:
- **29 דיווחים יומיים** (15 ימים - בוקר וערב)
- **15 רשומות מחזור** (3 מחזורים מלאים + מעקב נוסף)
- **6 הודעות מעליזה** (בוקר, ערב, תובנות, עידוד, טיפים)
- **העדפות יומן** (רק אם הטבלה קיימת)

### ⚠️ הערה:
הסקריפטים משתמשים **רק בעמודות בסיסיות** שקיימות במיגרציה המקורית `20241024_menopause_journal_tables.sql`.
עמודות מתקדמות (mood_level, pain_level, is_read, priority) ידלגו אם לא קיימות.

---

## 📅 פירוט הנתונים:

### 1. דיווחים יומיים (15 ימים)
- **יום 1-2**: שינה גרועה, הרבה תסמינים (הזעות לילה, גלי חום, כאבים)
- **יום 3-5**: שיפור הדרגתי, שינה טובה יותר, אנרגיה עולה
- **יום 6-8**: תקופת מחזור - כאבים, נפיחות, אנרגיה נמוכה
- **יום 9-10**: שיפור משמעותי, אנרגיה גבוהה, מצב רוח טוב
- **יום 11**: יום קשה - הזעות, קשיי ריכוז, עייפות
- **יום 12-15**: התייצבות והשתפרות הדרגתית

**וריאציה בתסמינים:**
- איכות שינה: good, fair, poor
- רמת אנרגיה: high, medium, low
- מצב רוח: happy, calm, irritated, sad, frustrated
- תסמינים: hot_flashes, night_sweats, pain, bloating, concentration_difficulty

---

### 2. מחזורים (3 מחזורים אחרונים)

#### מחזור 1 - לפני 60 ימים
- **משך**: 5 ימים
- **עוצמה**: בינוני → חזק → בינוני → קל
- **תסמינים**: התכווצויות, נפיחות, עייפות, כאבי ראש
- **הערות**: מחזור רגיל עם כאבים בינוניים-חזקים

#### מחזור 2 - לפני 32 ימים
- **משך**: 4 ימים (קיצור!)
- **עוצמה**: קל → בינוני → בינוני → קל
- **תסמינים**: התכווצויות, נפיחות, עייפות
- **הערות**: מחזור קל יותר מהרגיל

#### מחזור 3 - לפני 9 ימים
- **משך**: 3 ימים (קיצור נוסף!)
- **עוצמה**: קל → בינוני → קל
- **תסמינים**: התכווצויות, נפיחות, עייפות
- **הערות**: מחזור קצר - טיפוסי לגיל מעבר

**דפוס**: מחזורים הולכים ומתקצרים (טיפוסי לגיל מעבר)  
**מרווח ממוצע**: 28 ימים בין מחזורים

---

### 3. הודעות עליזה (6 הודעות)

1. **🌅 בוקר טוב** - תזכורת לדיווח בוקר + עידוד
2. **🌙 ערב טוב** - תזכורת לדיווח ערב + הנחיה
3. **🌸 תובנה על מחזור** - ניתוח מגמת קיצור המחזורים + ממוצע
4. **🎉 עידוד** - כל הכבוד על 15 ימי דיווח רציפים!
5. **💡 טיפ שינה** - קשר בין שינה טובה לפחות גלי חום + המלצה
6. **📊 תובנה מצב רוח** - שיפור במצב רוח 2-3 ימים אחרי המחזור + עצה

**כל ההודעות כוללות:**
- קישור action (למעט עידוד)
- אימוג'י מתאים
- טקסט מפורט ומועיל

---

### 4. העדפות יומן

- **תזכורת בוקר**: 08:00 ✅
- **תזכורת ערב**: 20:30 ✅
- **חיזוי מחזורים**: מופעל ✅
- **תובנות תסמינים**: מופעל ✅
- **שפה**: עברית

---

## 🎯 מה הנתונים יאפשרו לבדוק:

### תכונות דיווח יומי:
✅ דיווח בוקר עם פרמטרי שינה  
✅ דיווח ערב עם פרמטרים שונים  
✅ וריאציה בתסמינים לאורך זמן  
✅ קורלציה בין שינה למצב רוח  

### תכונות מעקב מחזור:
✅ תצוגת יומן מחזור עם 3 מחזורים  
✅ ניתוח מגמות (קיצור מחזורים)  
✅ חישוב ממוצע ימים בין מחזורים  
✅ תצוגת עוצמת דימום לאורך זמן  

### תכונות תובנות:
✅ גרפי התקדמות (שינה, אנרגיה, מצב רוח)  
✅ זיהוי דפוסים (שינה ← גלי חום)  
✅ השוואה בין תקופות  
✅ מגמות שבועיות/חודשיות  

### הודעות עליזה:
✅ הודעות בזמנים שונים (בוקר/ערב)  
✅ סוגי הודעות שונים (תזכורת/תובנה/עידוד/טיפ)  
✅ עדיפויות שונות  
✅ מצב קריאה/לא נקרא  

---

## 📋 איך להריץ:

### אפשרות 1: דרך Supabase Dashboard (מומלץ)

1. לך ל-SQL Editor ב-Supabase Dashboard
2. פתח את הקובץ: `supabase/migrations/insert_mock_data_for_inbal.sql`
3. העתק את כל התוכן
4. הדבק ב-SQL Editor
5. לחץ RUN

### אפשרות 2: דרך קו פקודה

```bash
psql -h your-supabase-host -U postgres -d postgres -f supabase/migrations/insert_mock_data_for_inbal.sql
```

---

## ⚠️ הערות חשובות:

### לפני הרצה:
1. **וודא שהמשתמשת קיימת** - `inbald@sapir.ac.il` חייבת להיות רשומה ב-`auth.users` וב-`user_profile`
2. **הסקריפט מוחק נתונים קיימים** - אם יש נתונים למשתמשת, הם יימחקו
3. **טבלאות נדרשות (חובה)** - `daily_entries`, `cycle_entries`, `aliza_messages`
4. **טבלה אופציונלית** - `journal_preferences` (הסקריפט ידלג אם לא קיימת)

### אם המשתמשת לא קיימת:
הסקריפט יציג הודעה:
```
User with email inbald@sapir.ac.il not found!
```

במקרה זה:
1. צרי את המשתמשת דרך Supabase Auth
2. או שני את ה-email בסקריפט למשתמש קיים

### אם קיבלת שגיאה: "journal_preferences does not exist"
הסקריפטים **כבר מתוקנים** ועכשיו:
- בודקים אם הטבלה קיימת
- דולגים על preferences אם הטבלה חסרה
- לא נכשלים

**פתרון מהיר:**
📖 פתחי: [`FIX_MOCK_DATA_ERROR.md`](FIX_MOCK_DATA_ERROR.md)

---

## 🔍 בדיקת התוצאות:

### אחרי הרצת הסקריפט:

```sql
-- ספירת רשומות
SELECT 
  (SELECT COUNT(*) FROM daily_entries WHERE user_id = (SELECT id FROM user_profile WHERE id IN (SELECT id FROM auth.users WHERE email = 'inbald@sapir.ac.il'))) as daily_count,
  (SELECT COUNT(*) FROM cycle_entries WHERE user_id = (SELECT id FROM user_profile WHERE id IN (SELECT id FROM auth.users WHERE email = 'inbald@sapir.ac.il'))) as cycle_count,
  (SELECT COUNT(*) FROM aliza_messages WHERE user_id = (SELECT id FROM user_profile WHERE id IN (SELECT id FROM auth.users WHERE email = 'inbald@sapir.ac.il'))) as messages_count;
```

**תוצאה צפויה:**
- daily_count: 29
- cycle_count: 15
- messages_count: 6

---

## 🎉 אחרי ההרצה:

1. **התחבר כמשתמשת** `inbald@sapir.ac.il`
2. **לך ליומן** `/journal`
3. **בדוק את כל הטאבים**:
   - 📝 Daily Tracking - תראה 15 ימים של דיווחים
   - 🌸 Cycle Tracking - תראה 3 מחזורים
   - 💡 Insights - תראה גרפים ותובנות מעליזה

4. **בדוק תכונות ספציפיות**:
   - כרטיסי סיכום למעלה
   - גרפי התקדמות
   - ניתוח מגמות
   - חיזוי מחזור הבא
   - הודעות עליזה

---

## 📊 דוגמאות לתובנות שייווצרו:

מהנתונים האלה, המערכת תוכל לזהות:

1. **קורלציה בין שינה וגלי חום**
   - בימים עם שינה טובה → פחות גלי חום למחרת

2. **דפוס מצב רוח מחזורי**
   - מצב רוח נמוך במהלך המחזור
   - שיפור 2-3 ימים אחרי סיום המחזור

3. **מגמת קיצור מחזורים**
   - מחזור 1: 5 ימים
   - מחזור 2: 4 ימים
   - מחזור 3: 3 ימים
   - טיפוסי לגיל מעבר

4. **דפוס שינה**
   - 40% מהלילות עם התעוררויות
   - 30% עם הזעות לילה
   - שינה טובה יותר באמצע המחזור

---

**מוכן לבדיקה! 🚀**
